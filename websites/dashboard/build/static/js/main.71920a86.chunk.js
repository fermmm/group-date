(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{163:function(e,n,t){},243:function(e,n,t){"use strict";t.r(n);var r,o=t(0),a=t.n(o),i=t(37),c=t.n(i),s=t(77),l=t(16),u=t(136),d=t(138),b={colors:{background1:"linear-gradient(#151515 50%,#242a43)",background2:"#2C2C2C",text1:"#A8A8A8",scrollbar:"#00000000",scrollbarThumb:"#868686",chatNamesColors:["#a85b7c","#379ba8","#f72e62","#2b8129","#2d2981","#000000","#7778b1","#755c72","#29b516","#878900","#00bab3","#660000","#ae5bde","#de5b5b","#d95bde","#9600ff","#006cff","#a2ff00","#0c00ff","#f0ff00"]},shadows:{elevation1:"1px 10px 0px 0px #00000024;"},fonts:{font1:'"Montserrat", sans-serif',size1:"20px",weight1:"600",letterSpacing1:"-0.26px",lineHeight1:"21px"},borders:{borderRadius1:"20px"}},p=Object(d.a)({palette:{mode:"dark"},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Montserrat",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),f=t(41),h=(t(163),Object(l.b)(r||(r=Object(f.a)(["\n   html, body {\n      margin: 0;\n      padding: 0;\n      overflow-x: hidden;\n      background: ",";\n      font-family: ",";\n      color: white;\n   }\n   \n   a:hover, a:visited, a:link, a:active {\n      text-decoration: none;   /* Removes underline in link texts */ \n      border:          none;   /* Removes border in linked items */\n      outline:         none;   /* Removes points border in images */\n   }\n   \n   *:focus {\n      outline: none;           /* Removes the selection outline from inputs and buttons */\n   }\n   \n   *, :after, :before {\n      box-sizing: border-box;  /* Do not include border and margin in the sizes numbers */\n   }\n\n   input[type=number]::-webkit-inner-spin-button, \n   input[type=number]::-webkit-outer-spin-button { \n      -webkit-appearance: none; \n      margin: 0; \n   }\n\n   ::-webkit-scrollbar {\n      width: 18px;\n      height: 7px;\n      margin: 0px;\n   }\n\n   ::-webkit-scrollbar-track {\n      background-color: transparent;\n      border-radius: 20px;\n   }\n\n   ::-webkit-scrollbar-thumb {\n      border: 5px solid transparent;\n      background-clip: content-box;\n      border-radius: 20px;\n      background-color: #565656;\n   }\n\n   ::-webkit-scrollbar-thumb:hover {\n      border: 5px solid transparent;\n      background-clip: content-box;\n      background-color: #565656;\n   }\n\n   ::-webkit-scrollbar-corner {\n      background-color: transparent;\n      border-radius: 20px;\n   }\n"])),(function(e){return e.theme.colors.background1}),(function(e){return e.theme.fonts.font1}))),j=t(304),g=t(29),m=t(53),v=t(10),O=t(300),x=t(7),y=Object(l.c)("div").withConfig({displayName:"stylesDrawer__DrawerContainer",componentId:"l8i1gt-0"})(["display:flex;flex-direction:row;width:100%;height:100vh;"]),w=Object(l.c)("div").withConfig({shouldForwardProp:function(e){return!["expanded"].includes(e)}}).withConfig({displayName:"stylesDrawer__ChildrenContainer",componentId:"l8i1gt-1"})(["padding-right:5px;padding-left:5px;"," "," overflow-x:hidden;height:100%;z-index:1;background:",";transition:all 350ms cubic-bezier(0.4,0,0.2,1);& .MuiButtonBase-root{justify-content:flex-start;}"],(function(e){var n=e.expanded;return"width: ".concat(n?320:80,"px;")}),(function(e){return e.expanded?"":"padding: 0 15px;"}),(function(e){var n=e.theme;e.expanded;return n.colors.background2})),C=Object(l.c)("div").withConfig({displayName:"stylesDrawer__PageContainer",componentId:"l8i1gt-2"})(["width:100%;"]),k=Object(l.c)("div").withConfig({shouldForwardProp:function(e){return!["expanded"].includes(e)}}).withConfig({displayName:"stylesDrawer__ButtonsContainer",componentId:"l8i1gt-3"})(["display:flex;flex-direction:column;overflow-x:hidden;row-gap:0px;"," transition:all 350ms cubic-bezier(0.4,0,0.2,1);"],(function(e){return e.expanded?"":"transform: scale(1.2);"})),S=Object(l.c)("div").withConfig({shouldForwardProp:function(e){return!["expanded"].includes(e)}}).withConfig({displayName:"stylesDrawer__LogoContainer",componentId:"l8i1gt-4"})(["margin:40px 0;width:100%;height:40px;"," transition:all 350ms cubic-bezier(0.4,0,0.2,1);"],(function(e){return e.expanded?"transform: scale(1.3);":""})),I=Object(x.a)(O.a)((function(e){e.theme;return{width:320}})),N=t(291),_=t(302),L=t.p+"static/media/logo.03f17db3.png",E=t(1),q=function(e){var n=e.children,t=e.buttons,r=Object(o.useState)(!1),a=Object(v.a)(r,2),i=a[0],c=a[1];return Object(E.jsxs)(y,{children:[Object(E.jsxs)(w,{expanded:i,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},children:[Object(E.jsx)(S,{expanded:i,children:Object(E.jsx)("img",{src:L,style:{width:"100%",height:"100%",objectFit:"contain"},alt:"logo"})}),Object(E.jsx)(k,{expanded:i,children:t.map((function(e){var n;return Object(E.jsxs)(I,{button:!0,onClick:e.onClick,style:{marginBottom:null!==(n=e.marginBottom)&&void 0!==n?n:0},sx:{borderRadius:2.2},children:[Object(E.jsx)(N.a,{children:e.icon()}),Object(E.jsx)(_.a,{primary:e.label})]},e.label)}))})]}),Object(E.jsx)(C,{children:n})]})},P=t(306),V=t(131),F=t(28),z=t(301),D=t(27),T=t.n(D),M=t(34),B=t(134);function G(e){return"/api/".concat(e,"/")}var A=t(135),R=t.n(A);function H(e){return U.apply(this,arguments)}function U(){return(U=Object(M.a)(T.a.mark((function e(n){var t,r,o,a,i,c,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.url,r=n.method,o=void 0===r?"GET":r,a=n.params,t=G(t),i={url:t,method:o},"GET"===o&&null!=a&&(i.url+="?"+Object(B.stringify)(a)),"POST"===o&&null!=a&&(i.data=a),c=R.a.create(i),e.next=8,c(i);case 8:return s=e.sent,e.abrupt("return",s.data);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var n=e.user,t=e.password;localStorage.setItem("user",n),localStorage.setItem("password",t)}function W(){return{user:localStorage.getItem("user"),password:localStorage.getItem("password")}}function Y(){localStorage.removeItem("user"),localStorage.removeItem("password")}var K=t(305),Q=t(308),X=t(303),Z=t(137),$=Object(l.c)(Z.a).withConfig({displayName:"stylesContextMenu__MenuStyled",componentId:"sc-1ctgdfa-0"})(["ul{min-width:150px;}"]),ee=Object(l.c)("div").withConfig({displayName:"stylesContextMenu__UnanchoredContainer",componentId:"sc-1ctgdfa-1"})(["width:fit-content;min-width:150px;"]),ne=function(e){var n=e.onClose,t=e.buttons,r=e.buttonToOpen,i=e.startOpened,c=a.a.useState(null),s=Object(v.a)(c,2),l=s[0],u=s[1],d=Object(o.useState)(null!==i&&void 0!==i&&i),b=Object(v.a)(d,2),p=b[0],f=b[1],h=function(e){return Object(E.jsxs)(K.a,{onClick:function(){return t=e.label,r=e.value,f(!1),void n(t,r);var t,r},children:[e.icon&&e.icon(),e.label]},e.value)};return Object(E.jsxs)(E.Fragment,{children:[r((function(e){u(e.currentTarget),f(!0)})),l?Object(E.jsx)($,{onClose:function(){f(!1),n(null,null)},open:p,anchorEl:l,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},children:t.map((function(e){return h(e)}))}):p&&Object(E.jsx)(ee,{children:Object(E.jsx)(Q.a,{elevation:6,children:Object(E.jsx)(X.a,{children:t.map((function(e){return h(e)}))})})})]})},te=t(309);function re(e){var n,t,r,o,a,i,c;return null==e?"":(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message)?e.response.data.error.message:null!=(null===(o=e.response)||void 0===o||null===(a=o.data)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.message)?e.response.data[0].message:null!=(null===(c=e.response)||void 0===c?void 0:c.data)?e.response.data:null!=e.response?e.response:null!=e.message?e.message:"No information found"}var oe,ae=Object(l.c)("div").withConfig({displayName:"stylesRequestStatus__RequestStatusContainer",componentId:"sc-1pkgis4-0"})(["display:flex;align-items:center;justify-content:center;width:100%;"]);!function(e){e[e.FillViewport=0]="FillViewport",e[e.FillContainer=1]="FillContainer"}(oe||(oe={}));var ie=function(e){var n=e.loading,t=e.error,r=e.children,o=e.loadingScaleMode,a=void 0===o?oe.FillViewport:o,i=Array.isArray(n)?n.includes(!0):null!==n&&void 0!==n&&n,c=Array.isArray(t)?t.find((function(e){return null!=e})):null!==t&&void 0!==t?t:null,s=null==c&&!i;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:s?{}:{display:"none"},children:r}),!s&&Object(E.jsxs)(ae,{style:{height:a===oe.FillViewport?"100vh":"100%"},children:[i&&!c&&Object(E.jsx)(te.a,{color:"secondary"}),c&&"Error: "+re(c)]})]})},ce=Object(l.c)("div").withConfig({displayName:"stylesLogs__LogsContainer",componentId:"wpu8dr-0"})(["width:100%;height:100vh;overflow:hidden;position:relative;"]),se=Object(l.c)("div").withConfig({displayName:"stylesLogs__ContextMenuContainer",componentId:"wpu8dr-1"})(["position:absolute;top:0px;padding:5px 88px;"]),le=Object(l.c)("div").withConfig({displayName:"stylesLogs__LogFileFeedbackMessage",componentId:"wpu8dr-2"})(["display:flex;align-items:flex-start;justify-content:center;width:100%;height:100vh;padding-top:150px;"]);var ue=function(){var e=Object(o.useState)(null),n=Object(v.a)(e,2),t=n[0],r=n[1],a=Object(o.useState)(null),i=Object(v.a)(a,2),c=i[0],s=i[1],l=function(e){var n="admin/logs/files",t=W();return Object(z.a)(n,(function(){return H({url:n,params:Object(F.a)({},t)})}),null===e||void 0===e?void 0:e.options)}(),u=l.data,d=l.isLoading,b=l.error,p=function(e){var n=e.params,t=W(),r="admin/log";return Object(z.a)(r+n.fileName,(function(){return H({url:r,params:Object(F.a)(Object(F.a)({},n),t)})}),null===e||void 0===e?void 0:e.options)}({params:{fileName:t},options:{enabled:null!=t}}),f=p.data,h=p.isLoading,j=p.error,g=function(e){return Object(o.useMemo)((function(){var n;return null!==(n=null===e||void 0===e?void 0:e.map((function(e){return{label:e.split(".")[0],value:e}})))&&void 0!==n?n:[]}),[e])}(u);return Object(E.jsx)(ie,{loading:[d,h],error:[b,j],children:Object(E.jsxs)(ce,{children:[f?Object(E.jsx)(V.LazyLog,{enableSearch:!0,text:f,caseInsensitive:!0,containerStyle:{color:"#48b951"}}):Object(E.jsx)(le,{children:"Log file is empty"}),Object(E.jsx)(se,{children:Object(E.jsx)(ne,{startOpened:!0,onClose:function(e,n){null!=n&&(r(n),s(e))},buttons:g,buttonToOpen:function(e){return Object(E.jsx)(P.a,{onClick:e,children:t?"File: "+c:"Select log file"})}})})]})})};function de(e){return null!=localStorage.getItem(e)}var be=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,t=Object(o.useState)(de(e)),r=Object(v.a)(t,2),a=r[0],i=r[1];return Object(o.useEffect)((function(){var t=setInterval((function(){return i(de(e))}),n);return function(){return clearInterval(t)}})),a};function pe(){var e=be("user"),n=be("password");return e&&n}var fe=t(307),he=t(297),je=Object(l.c)("div").withConfig({displayName:"stylesLogin__LoginContainer",componentId:"sc-1iagdsq-0"})(["display:flex;flex-direction:column;align-items:center;margin-top:20vh;width:100vw;height:80vh;"]),ge=Object(l.c)("img").withConfig({displayName:"stylesLogin__Logo",componentId:"sc-1iagdsq-1"})(["height:150px;margin-bottom:50px;"]),me=Object(l.c)("div").withConfig({displayName:"stylesLogin__LoginFormContainer",componentId:"sc-1iagdsq-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:flex-start;row-gap:15px;"]),ve=Object(l.c)("div").withConfig({displayName:"stylesLogin__ErrorText",componentId:"sc-1iagdsq-3"})(["bottom:-35px;text-align:center;"]);function Oe(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(M.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/validate/credentials",e.abrupt("return",H({url:"admin/validate/credentials",params:n}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(){var e=Object(o.useState)(),n=Object(v.a)(e,2),t=n[0],r=n[1],a=Object(o.useState)(),i=Object(v.a)(a,2),c=i[0],s=i[1],l=Object(o.useState)(),u=Object(v.a)(l,2),d=u[0],b=u[1],p=Object(o.useState)(!1),f=Object(v.a)(p,2),h=f[0],j=f[1],g=function(){var e=Object(M.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Oe({user:t,password:c});case 3:n=e.sent,j(!1),n.isValid?J({user:t,password:c}):b(n.error);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(je,{children:[Object(E.jsx)(ge,{src:L,alt:"logo"}),Object(E.jsxs)(me,{children:[Object(E.jsx)(he.a,{label:"USER",variant:"outlined",value:t,onChange:function(e){return r(e.target.value)}}),Object(E.jsx)(he.a,{label:"PASSWORD",variant:"outlined",type:"password",value:c,onChange:function(e){return s(e.target.value)}}),Object(E.jsx)(fe.a,{loading:h,variant:"outlined",onClick:g,children:"Login"}),d&&Object(E.jsx)(ve,{children:d})]})]})},we=function(e){var n=pe();return Object(E.jsx)(g.a,Object(F.a)(Object(F.a)({},e),{},{children:n?e.children:Object(E.jsx)(ye,{})}))},Ce=t(26),ke=t(71);function Se(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(M.a)(T.a.mark((function e(n){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/db/visualizer",t=W(),e.abrupt("return",H({url:"admin/db/visualizer",method:"POST",params:Object(F.a)(Object(F.a)({},t),n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=Object(l.c)("div").withConfig({displayName:"stylesGraph__GraphContainer",componentId:"sc-4ujcbp-0"})(["width:100%;height:100%;"]),_e=function(e){var n=e.nodesHolder,t=e.edgesHolder,r=e.nodeIdSelected,a=e.edgeIdSelected,i=e.onNodeSelect,c=e.onEdgeSelect,s=Object(o.useRef)(null),l=Object(o.useState)(),u=Object(v.a)(l,2),d=u[0],b=u[1],p={interaction:{selectConnectedEdges:!1},physics:{forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18,avoidOverlap:1.5},maxVelocity:40,solver:"forceAtlas2Based",timestep:.35,stabilization:{enabled:!0,iterations:50,updateInterval:25}},nodes:{shape:"dot",size:20,borderWidth:1,font:{color:"white",size:13}},edges:{width:2,font:{size:12},smooth:{enabled:!0,type:"dynamic",roundness:1}}};return Object(o.useEffect)((function(){if(null!=s.current){var e=new ke.b(s.current,{nodes:n,edges:t},p);b(e),e.on("selectNode",(function(e){var n=e.nodes&&e.nodes.length>0?e.nodes[0]:null;i(n)})),e.on("selectEdge",(function(e){var n=e.edges&&1===e.edges.length?e.edges[0]:null;null!==n&&c(n)})),e.on("deselectNode",(function(){i(null)})),e.on("deselectEdge",(function(){c(null)}))}}),[s]),Object(o.useEffect)((function(){null!=r&&null!=d&&d.selectNodes([r])}),[r]),Object(o.useEffect)((function(){}),[a]),Object(E.jsx)(Ne,{ref:s,children:"Graph"})},Le=a.a.memo(_e),Ee=t(47),qe=t.n(Ee),Pe=function(e){var n;for(n in e)break;for(var t in e)"name"===t.toLocaleLowerCase()&&(n=t);if("name"!==n.toLocaleLowerCase())for(var r in e)r.toLowerCase().includes("name")&&(n=r);return n},Ve=function(e,n){return qe.a.differenceBy(e,n,(function(e){return"".concat(e.from,",").concat(e.to)}))},Fe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[],r=[],o=Object(Ce.a)(n),a=qe.a.mapValues(qe.a.keyBy(o,"type"),"field");return qe.a.forEach(e,(function(e){var n=e.label,i=Pe(e.properties),c={type:n,field:i};o.push(c),a[n]=i;var s=a[n],l=s in e.properties?e.properties[s]:n;r.push({id:e.id,label:String(l),group:e.label,properties:e.properties,type:n}),t=t.concat(qe.a.map(e.edges,(function(e){return Object(F.a)(Object(F.a)({},e),{},{type:e.label,arrows:{to:{enabled:!0,scaleFactor:.5}}})})))})),{edges:t,nodes:r,nodeLabels:o}},ze=Object(l.c)("div").withConfig({displayName:"stylesVisualizer__VisualizerContainer",componentId:"sc-1eaeznf-0"})(["display:flex;flex-direction:row;height:100%;"]),De=Object(l.c)("div").withConfig({displayName:"stylesVisualizer__SearchPartContainer",componentId:"sc-1eaeznf-1"})(["display:flex;flex-direction:row;position:relative;width:100%;height:100%;"]),Te=Object(l.c)("div").withConfig({displayName:"stylesHeader__HeaderContainer",componentId:"sc-1lo3tt9-0"})(["display:flex;flex-direction:row;position:absolute;justify-content:center;width:100%;height:40px;margin-top:27px;z-index:2;"]),Me=Object(l.c)("div").withConfig({displayName:"stylesHeader__FormContainer",componentId:"sc-1lo3tt9-1"})(["display:flex;flex-direction:row;column-gap:10px;width:60%;min-width:200px;height:100%;"]),Be=Object(l.c)(he.a).withConfig({displayName:"stylesHeader__NodeLimitTextField",componentId:"sc-1lo3tt9-2"})(["max-width:55px;margin-left:20px !important;& .MuiInputBase-input{background-color:",";}"],(function(e){return e.theme.colors.background2})),Ge=[{categoryName:"Newest",presets:[{name:"Newest users",query:'g.V().hasLabel("user").order().by(coalesce(values("registrationDate"), values("lastGroupJoinedDate")), desc)'},{name:"Newest woman",query:'g.V().hasLabel("user").order().by(coalesce(values("registrationDate"), values("lastGroupJoinedDate")), desc).where(out("isGender").has("genderId", "Woman")).has("isCoupleProfile", false)'},{name:"Newest man",query:'g.V().hasLabel("user").order().by(coalesce(values("registrationDate"), values("lastGroupJoinedDate")), desc).where(out("isGender").has("genderId", "Man")).has("isCoupleProfile", false)'},{name:"Newest couples",query:'g.V().hasLabel("user").order().by(coalesce(values("registrationDate"), values("lastGroupJoinedDate")), desc).has("isCoupleProfile", true)'},{name:"Newest tags",query:'g.V().hasLabel("tag").order().by("creationDate", desc).has("global", false)'},{name:"Newest matches",query:'g.E().hasLabel("Match").order().by("timestamp", desc).bothV()'},{name:"Newest groups",query:'g.V().hasLabel("group").order().by("creationDate", desc)'}]},{categoryName:"Matches",presets:[{name:"All matches",query:'g.E().hasLabel("Match").bothV()'}]}],Ae=function(){var e=[];return Ge.forEach((function(n){n.presets.forEach((function(t){return e.push(Object(F.a)(Object(F.a)({},t),{},{category:n.categoryName}))}))})),e}();var Re=t(296),He=Object(l.c)(Re.a).withConfig({displayName:"stylesQueryInput__AutocompleteTextField",componentId:"sc-16giat8-0"})(["background-color:",";& .MuiInputBase-input{background-color:",";}"],(function(e){return e.theme.colors.background2}),(function(e){return e.theme.colors.background2})),Ue=function(e){var n=e.value,t=e.onChange,r=e.onEnterPress,a=Object(o.useRef)(),i=Object(o.useRef)(!1),c=function(e){(null===a||void 0===a?void 0:a.current)&&setTimeout((function(){var n=function(e){if(null==e)return{start:0,end:0};var n=Ae.find((function(n){return n.query===e}));return null==n&&null==(n={query:'g.V().has("name", "")',carrotPos:19})?{start:0,end:0}:null!=n.carrotPos?{start:n.carrotPos,end:n.carrotPos}:null!=n.carrotPosStart&&null!=n.carrotPosEnd?{start:n.carrotPosStart,end:n.carrotPosEnd}:{start:0,end:0}}(e);a.current.focus(),a.current.selectionStart=n.start,a.current.selectionEnd=n.end}),16)};return Object(E.jsx)(He,{fullWidth:!0,freeSolo:!0,options:Ae,groupBy:function(e){return e.category},getOptionLabel:function(e){return e.query},renderOption:function(e,n){return Object(E.jsx)("li",Object(F.a)(Object(F.a)({},e),{},{children:n.name}))},clearOnBlur:!1,clearOnEscape:!1,value:n,onChange:function(e,n){c(null===n||void 0===n?void 0:n.query),t(n)},onInputChange:function(e,n){!1===i.current&&(c(n),i.current=!0),t({query:n})},renderInput:function(e){return Object(E.jsx)(he.a,Object(F.a)(Object(F.a)({},e),{},{autoFocus:!0,variant:"outlined",size:"small",color:"secondary",fullWidth:!0,onFocus:function(e){a.current=e.target},onKeyDown:function(e){"Enter"===e.key&&r()}}))}})},Je=function(e){var n=e.loading,t=e.onSearch,r=Object(o.useState)(150),a=Object(v.a)(r,2),i=a[0],c=a[1],s=Object(o.useState)({query:'g.V().has("name", "")',carrotPos:19}),l=Object(v.a)(s,2),u=l[0],d=l[1],b=function(){t({query:u.query,nodeLimit:i})};return Object(E.jsx)(Te,{children:Object(E.jsxs)(Me,{children:[Object(E.jsx)(Ue,{value:u,onChange:d,onEnterPress:b}),Object(E.jsx)(fe.a,{loading:n,variant:"contained",color:"secondary",onClick:b,children:"Send"}),Object(E.jsx)(Be,{label:"LIMIT",variant:"outlined",size:"small",color:"secondary",type:"number",value:i,onChange:function(e){return c(Number(e.target.value))}})]})})},We=t(310);function Ye(e){var n=Object(o.useState)(!1),t=Object(v.a)(n,2),r=t[0],a=t[1],i=function(n){n.key===e&&a(!0)},c=function(n){n.key===e&&a(!1)};return Object(o.useEffect)((function(){return window.addEventListener("keydown",i),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",c)}}),[]),r}var Ke=t(88),Qe=t.n(Ke);function Xe(e){return"".concat(function(e){return Qe.a.duration(e,"seconds").locale("en").humanize()}(Qe()().unix()-e)," - ").concat(Qe.a.unix(e).format("DD MMM YYYY"))}Object(l.c)("div").withConfig({displayName:"stylesGenericPropertiesTable__PropertiesContainer",componentId:"flomet-0"})(["display:flex;flex-direction:column;"]);var Ze=Object(l.c)("div").withConfig({displayName:"stylesGenericPropertiesTable__KeyLabel",componentId:"flomet-1"})(["font-size:16px;font-weight:400;"]),$e=Object(l.c)("div").withConfig({displayName:"stylesGenericPropertiesTable__ValueLabel",componentId:"flomet-2"})(["font-size:19px;font-weight:200;padding-left:25px;"]),en=function(e){var n=e.properties,t=e.hideProps,r=Object.keys(null!==n&&void 0!==n?n:{}).sort(),o=["lastGroupJoinedDate","birthDate","lastLoginDate","creationDate","mostVotedDate","lastInteractionDate","timestamp"],a=function(e,n){return o.includes(e)?Xe(Number(n)):String(n)};return Object(E.jsx)(E.Fragment,{children:r.map((function(e){return(!t||!t.includes(e))&&Object(E.jsxs)("div",{children:[Object(E.jsx)(Ze,{children:e}),Object(E.jsx)($e,{children:a(e,n[e])})]},e)}))})},nn=Object(l.c)("div").withConfig({shouldForwardProp:function(e){return!["color"].includes(e)}}).withConfig({displayName:"stylesChatBubble__ChatBubbleContainer",componentId:"l2oxk7-0"})(["padding:10px 20px;border-radius:20px;background:",";width:fit-content;"],(function(e){return e.color})),tn=Object(l.c)("div").withConfig({displayName:"stylesChatBubble__NameLabel",componentId:"l2oxk7-1"})(["font-size:15px;font-weight:600;margin-bottom:5px;"]),rn=Object(l.c)("div").withConfig({displayName:"stylesChatBubble__TextLabel",componentId:"l2oxk7-2"})(["padding-left:15px;"]),on=function(e){var n=e.color,t=e.text,r=e.name;return Object(E.jsxs)(nn,{color:n,children:[Object(E.jsx)(tn,{children:r}),Object(E.jsx)(rn,{children:t})]})},an=function(e){var n,t=e.properties,r=Object(l.d)(),a=JSON.parse(null!==(n=t.chat)&&void 0!==n?n:"[]"),i=Object(o.useState)(),c=Object(v.a)(i,2),s=c[0],u=c[1];Object(o.useEffect)((function(){Object(M.a)(T.a.mark((function e(){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se({query:'g.V().has("group", "groupId", "'.concat(t.groupId,'").both("member")')});case 2:r=e.sent,u(null!==(n=null===r||void 0===r?void 0:r.map((function(e){var n,t;return{userId:null===e||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.userId,name:null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.name}})))&&void 0!==n?n:void 0);case 4:case"end":return e.stop()}}),e)})))()}),[]);var d='has("groupId", "'.concat(t.groupId,'")'),b=[{name:"Members",query:"g.V().union(".concat(d,", ").concat(d,'.both("member"))')}],p=function(e){if(s){var n,t=null===s||void 0===s?void 0:s.findIndex((function(n){return n.userId===e}));return null!==(n=r.colors.chatNamesColors[t])&&void 0!==n?n:"black"}return"black"};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($e,{children:t.name}),b.map((function(n){return Object(E.jsx)(P.a,{variant:"outlined",color:"secondary",onClick:function(){return e.onSearch({query:n.query})},children:n.name})})),a.messages.map((function(e){var n;return Object(E.jsx)(on,{name:s&&null!==(n=s.find((function(n){return n.userId===e.authorUserId})).name)&&void 0!==n?n:e.authorUserId,text:e.messageText,color:p(e.authorUserId)})})),Object(E.jsx)(en,{properties:t,onSearch:e.onSearch,hideProps:["chat"]})]})},cn=function(e){var n=e.properties,t='has("tagId", "'.concat(n.tagId,'")'),r=[{name:"Subscribers",query:"g.V().union(".concat(t,", ").concat(t,'.both("subscribed").hasLabel("user"))')},{name:"Blockers",query:"g.V().union(".concat(t,", ").concat(t,'.both("blocked").hasLabel("user"))')}],o=[{name:"Delete tag",query:"g.V().".concat(t,".drop()")}];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($e,{children:n.name}),r.map((function(n){return Object(E.jsx)(P.a,{variant:"outlined",color:"secondary",onClick:function(){return e.onSearch({query:n.query})},children:n.name})})),Object(E.jsx)(en,{properties:n,onSearch:e.onSearch,hideProps:["images"]}),o.map((function(n){return Object(E.jsx)(P.a,{variant:"outlined",color:"error",onClick:function(){return e.onSearch({query:n.query})},children:n.name})}))]})};var sn=function(e){var n,t=e.properties,r=function(e){return Object(z.a)("server-info",(function(){return H({url:"server-info",params:{buildVersion:"0.0.0",codeVersion:"0.0.0"}})}),null===e||void 0===e?void 0:e.config)}(),o='has("userId", "'.concat(t.userId,'")'),a=[{name:"Genders",query:"g.V().union(".concat(o,", ").concat(o,'.both("isGender", "likesGender"))')},{name:"Matches",query:"g.V().union(".concat(o,", ").concat(o,'.both("Match"))')},{name:"Likes Dislikes",query:"g.V().union(".concat(o,", ").concat(o,'.both("Like", "Dislike"))')},{name:"Tags",query:"g.V().union(".concat(o,", ").concat(o,'.both("subscribed", "blocked").hasLabel("tag"))')},{name:"Groups",query:"g.V().union(".concat(o,", ").concat(o,'.both().hasLabel("group"))')}],i=[{name:"Delete user",query:"g.V().".concat(o,".drop()")}];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($e,{children:t.name}),Object(E.jsx)($e,{children:t.country}),Object(E.jsx)($e,{children:t.profileDescription}),Object(E.jsx)($e,{children:t.dateIdea}),a.map((function(n,t){return Object(E.jsx)(P.a,{variant:"outlined",color:"secondary",onClick:function(){return e.onSearch({query:n.query})},children:n.name},t)})),t.images&&(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.imagesHost)&&JSON.parse(t.images).map((function(e){var n;return Object(E.jsx)("img",{src:(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.imagesHost)+e},e)})),Object(E.jsx)(en,{properties:t,onSearch:e.onSearch,hideProps:["images"]}),i.map((function(n,t){return Object(E.jsx)(P.a,{variant:"outlined",color:"error",onClick:function(){return e.onSearch({query:n.query})},children:n.name},t)}))]})},ln=Object(l.c)("div").withConfig({displayName:"stylesPanel__PanelContainer",componentId:"sc-8thw87-0"})(["display:flex;align-items:center;justify-content:center;width:40vw;min-width:40vw;height:300;padding:25px 0;padding-right:35px;"]),un=Object(l.c)("div").withConfig({displayName:"stylesPanel__PanelCard",componentId:"sc-8thw87-1"})(["position:relative;display:flex;flex-direction:column;overflow-y:auto;width:100%;height:100%;background-color:",";border-radius:10px;padding:5px 28px;row-gap:20px;overflow-wrap:break-word;"],(function(e){return e.theme.colors.background2})),dn=Object(l.c)("div").withConfig({displayName:"stylesPanel__NodeElementTitle",componentId:"sc-8thw87-2"})(["font-size:35px;font-weight:200;margin-top:20px;margin-bottom:10px;"]),bn=Object(l.c)("div").withConfig({displayName:"stylesPanel__NavigationButtonsContainer",componentId:"sc-8thw87-3"})(["display:flex;flex-direction:row;position:absolute;top:20px;right:25px;column-gap:5px;"]),pn=function(e){var n,t,r=e.allNodes,a=e.allEdges,i=e.nodeIdSelected,c=e.edgeIdSelected,s=e.onSearch,l=e.onNextClick,u=e.onPrevClick,d=Object(o.useState)(),b=Object(v.a)(d,2),p=b[0],f=b[1],h=Ye("ArrowLeft"),j=Ye("ArrowRight");switch(Object(o.useEffect)((function(){f(r.find((function(e){return e.id===i})))}),[i]),Object(o.useEffect)((function(){f(a.find((function(e){return e.id===c})))}),[c]),Object(o.useEffect)((function(){h&&null!=p&&u()}),[h]),Object(o.useEffect)((function(){j&&null!=p&&l()}),[j]),null!==(n=null===p||void 0===p?void 0:p.type)&&void 0!==n?n:""){case"user":t=sn;break;case"group":t=an;break;case"tag":t=cn;break;default:t=en}return Object(E.jsx)(ln,{children:Object(E.jsx)(un,{children:null!=p&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(bn,{children:[Object(E.jsx)(We.a,{onClick:u,children:Object(E.jsx)(m.a,{})}),Object(E.jsx)(We.a,{onClick:l,children:Object(E.jsx)(m.b,{})})]}),Object(E.jsx)(dn,{children:p.type}),Object(E.jsx)(t,{properties:p.properties,onSearch:s})]})})})};function fn(e){var n=e.key,t=e.value,r=new URLSearchParams(window.location.search);r.set(n,t),window.history.pushState(null,null,"?"+r.toString())}function hn(e){return new URLSearchParams(window.location.search).get(e)}var jn=function(){var e=Object(o.useState)(!1),n=Object(v.a)(e,2),t=n[0],r=n[1],a=Object(o.useState)([]),i=Object(v.a)(a,2),c=i[0],s=i[1],l=Object(o.useState)([]),u=Object(v.a)(l,2),d=u[0],b=u[1],p=Object(o.useState)([]),f=Object(v.a)(p,2),h=f[0],j=f[1],g=Object(o.useState)(new ke.a([])),m=Object(v.a)(g,1)[0],O=Object(o.useState)(new ke.a([])),x=Object(v.a)(O,1)[0],y=Object(o.useState)(),w=Object(v.a)(y,2),C=w[0],k=w[1],S=Object(o.useState)(),I=Object(v.a)(S,2),N=I[0],_=I[1],L=Object(o.useState)(),q=Object(v.a)(L,2),P=q[0],V=q[1],F=function(){var e=hn("visualizer-search");null!=e&&z({query:e,saveOnUrl:!1})};Object(o.useEffect)(F,[]),function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(o.useCallback)((function(){return e()}),[]);Object(o.useEffect)((function(){return window.addEventListener("popstate",t,n),function(){window.removeEventListener("popstate",t)}}))}(F),Object(o.useEffect)((function(){null==C&&null==N&&(null===c||void 0===c?void 0:c.length)>0&&D(c[0].id)}),[c]);var z=function(){var e=Object(M.a)(T.a.mark((function e(n){var t,o,a,i,l,u,p,f,g,v,O,y,w,C,k;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query,o=n.nodeLimit,a=void 0===o?150:o,i=n.reset,l=void 0===i||i,u=n.saveOnUrl,p=void 0===u||u,r(!0),e.next=4,Se({query:t,nodeLimit:a});case 4:f=e.sent,g=Fe(f,h),v=g.nodes,O=g.edges,y=g.nodeLabels,w=void 0===y?[]:y,p&&fn({key:"visualizer-search",value:t}),l?(s(Object(Ce.a)(v)),m.clear(),m.add(v)):(S=v,I=c,C=qe.a.differenceBy(S,I,(function(e){return e.id})),s([].concat(Object(Ce.a)(c),Object(Ce.a)(C))),m.add(C)),l?(b(Object(Ce.a)(O)),x.clear(),x.add(O)):(k=Ve(O,d),b([].concat(Object(Ce.a)(d),Object(Ce.a)(k))),x.add(k)),j(w),r(!1);case 11:case"end":return e.stop()}var S,I}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(e){k(e),V("node")},B=function(e){_(e),V("edge")};return Object(E.jsxs)(ze,{children:[Object(E.jsxs)(De,{children:[Object(E.jsx)(Je,{loading:t,onSearch:z}),Object(E.jsx)(Le,{nodesHolder:m,edgesHolder:x,nodeIdSelected:C,edgeIdSelected:N,onNodeSelect:D,onEdgeSelect:B})]}),Object(E.jsx)(pn,{allEdges:d,allNodes:c,nodeIdSelected:C,edgeIdSelected:N,onSearch:z,onNextClick:function(){if("node"===P){var e=c.findIndex((function(e){return e.id===C})),n=e===c.length-1?0:e+1,t=c[n].id;D(t)}else{var r=d.findIndex((function(e){return e.id===N})),o=r===d.length-1?0:r+1,a=d[o].id;B(a)}},onPrevClick:function(){if("node"===P){var e=c.findIndex((function(e){return e.id===C})),n=0===e?c.length-1:e-1,t=c[n].id;D(t)}else{var r=d.findIndex((function(e){return e.id===N})),o=0===r?d.length-1:r-1,a=d[o].id;B(a)}}})]})};function gn(e){return mn.apply(this,arguments)}function mn(){return(mn=Object(M.a)(T.a.mark((function e(n){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/db/loadcsv",t=W(),e.abrupt("return",H({url:"admin/db/loadcsv",method:"POST",params:Object(F.a)(Object(F.a)({},t),n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vn=Object(l.c)("div").withConfig({displayName:"stylesTechOps__TechOpsContainer",componentId:"sc-18lsf5e-0"})(["display:flex;flex-direction:column;padding:20px;"]),On=Object(l.c)("div").withConfig({displayName:"stylesTechOps__ButtonsContainer",componentId:"sc-18lsf5e-1"})(["display:flex;flex-direction:column;max-width:300px;margin-top:60px;"]),xn=function(){var e=Object(o.useState)(),n=Object(v.a)(e,2),t=n[0],r=(n[1],function(){var e=Object(M.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn({fileId:"latest"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(E.jsxs)(vn,{children:[Object(E.jsx)("h1",{children:"Tech operations"}),Object(E.jsx)(On,{children:Object(E.jsx)(fe.a,{loading:t,variant:"outlined",onClick:r,children:"Load CSV"})})]})},yn=function(){var e=Object(g.f)();return pe()?Object(E.jsx)(q,{buttons:[{label:"Visualizer",icon:function(){return Object(E.jsx)(m.f,{})},onClick:function(){return e.push("/visualizer")}},{label:"Logs",icon:function(){return Object(E.jsx)(m.d,{})},onClick:function(){return e.push("/logs")},marginBottom:40},{label:"Tech Operations",icon:function(){return Object(E.jsx)(m.e,{})},onClick:function(){return e.push("/tech-ops")}},{label:"Logout",icon:function(){return Object(E.jsx)(m.c,{})},onClick:function(){return Y()}}],children:Object(E.jsxs)(g.c,{children:[Object(E.jsx)(we,{exact:!0,path:"/",children:Object(E.jsx)(ue,{})}),Object(E.jsx)(we,{path:"/logs",children:Object(E.jsx)(ue,{})}),Object(E.jsx)(we,{path:"/visualizer",children:Object(E.jsx)(jn,{})}),Object(E.jsx)(we,{path:"/tech-ops",children:Object(E.jsx)(xn,{})})]})}):Object(E.jsx)(ye,{})},wn=new(t(299).a)({defaultOptions:{queries:{staleTime:1/0,structuralSharing:!1,retry:!1,refetchOnWindowFocus:!1}}}),Cn=function(){return Object(E.jsx)(u.a,{client:wn,children:Object(E.jsx)(l.a,{theme:b,children:Object(E.jsxs)(j.a,{theme:p,children:[Object(E.jsx)(h,{}),Object(E.jsx)(s.a,{basename:"/dashboard",children:Object(E.jsx)(yn,{})})]})})})},kn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,311)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),a(e),i(e)}))};c.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(Cn,{})}),document.getElementById("root")),kn()}},[[243,1,2]]]);
//# sourceMappingURL=main.71920a86.chunk.js.map